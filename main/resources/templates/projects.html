<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head th:replace="layoutAuth :: site-head">
</head>

<body>

<header th:replace="layoutAuth :: site-header" />

<main id="projects">
    <a href='#' onclick='overlay()'>Add project</a>
    <article th:each="p : ${findAll}">
        <table>
            <tr>
                <td>
                    <a th:href="@{'/tasks/' + ${p.id}}" class="title" th:text="${p.projectName}">Task Title</a>
                    <i>Posted on</i>
                    <span th:text="${p.mainURL}">Main url</span>
                </td>
                <td>
                    <input type="image" th:src="@{/img/edit.png}"  width="20" height="20" onclick='overlayEdit()'/>
                    <form autocomplete="off" th:action="@{/projects/edit}" method="PATCH">
                        <div id="overlayEdit" th:text="${p.id}">
                            <div>
                                <p>Content you want the user to see goes here.</p>
                                    <input type="text" id="title" name="projectName"  th:placeholder="${p.id}"
                                           class="form-control" />
                                    <input type="text" id="mainURL" name="mainURL"  th:placeholder="mainURL"
                                           class="form-control" />
                                    <input type="checkbox" id="public_feedback"
                                           class="form-control" /><label for="public_feedback">Public feedback</label>
                                    <span th:utext="${successMessage}"></span>
                                    <button type="submit" class="edit">Add project</button>
                                Click here to <a href='#' onclick='overlayEdit()'>close</a>
                            </div>
                        </div>
                    </form>
                </td>
                <td>
                    <form th:action="@{/projects/remove}" method="POST">
                        <input id="delete" name="project" type="hidden" th:value="${p.id}"/>
                        <input type="image" value="delete" th:src="@{/img/delete.png}" width="20" height="20" onClick="return confirm('sure?')"/>
                    </form>
                </td>
            </tr>
        </table>
    </article>
</main>

<footer th:replace="layoutAuth :: site-footer" />

</body>

</html>